
# 编译预处理

## 头文件与宏定义
> - 头文件: 作为一种包含功能函数、数据接口声明的载体文件，主要用于保存程序的声明
> - 宏: `#define`在预编译时展开，将相对应位置宏定义替换成文本, 应尽量避免使用宏定义常量
### 万能头文件

> 包含STL以及[常用头文件](#jump)的, 可用[LeetCode](https://leetcode-cn.com/)等刷题网站
```cpp
#include <bits/stdc++.h> // gcc编译器可用, vs不支持
```
---
### 宏定义`#define`


```cpp
#define FOREVER for(;;) //死循环
#define CASE break;case 
```
应该避免使用宏定义常量:

```cpp
#define PI 3.14
```	

如果必须使用宏，尽量用括号把宏参数括起来，全局名字一定要使用作用域解析符:

```cpp
#define MIN(a, b) (((a)<(b))?(a):(b))
```	
### enum hack
**作用**：`#define`进行的是字符串替换，不利于程序调试，而且不容易控制范围。使用enum hack可以定义一个枚举常量，而且不会导致不必要的内存分配。

```cpp
enum {value = 1};
```

> - enum hack比较像`#define`而不像`const`，比如对`enum`取址不合法；
> - `enum`和`#define`一样不会导致非必要的内存分配；
> - enum hack是模板元编程的一项基本技术，大量的代码在使用
> - enum定义的常量，并不是在预编译的时候进行替换，只是在编译的时候，根据标识去常量区获取对应的值

---
> ### <span id="jump">常用头文件及其作用</span>
> ```cpp
> #include <algorithm>　　　	//STL 通用算法
> #include <bitset>　　　　　	//STL 位集容器
> #include <cctype>         	//字符处理
> #include <cerrno> 　　　　 	//定义错误码
> #include <cfloat>　　　　 	//浮点数处理
> #include <ciso646>         	//对应各种运算符的宏
> #include <climits> 　　　　	//定义各种数据类型最值的常量
> #include <clocale> 　　　　	//定义本地化函数
> #include <cmath> 　　　　　	//定义数学函数
> #include <complex>　　　　 	//复数类
> #include <csignal>         	//信号机制支持
> #include <csetjmp>         	//异常处理支持
> #include <cstdarg>         	//不定参数列表支持
> #include <cstddef>         	//常用常量
> #include <cstdio> 　　　　 	//定义输入/输出函数
> #include <cstdlib> 　　　　	//定义杂项函数及内存分配函数
> #include <cstring> 　　　　	//字符串处理
> #include <ctime> 　　　　　	//定义关于时间的函数
> #include <cwchar> 　　　　 	//宽字符处理及输入/输出
> #include <cwctype> 　　　　	//宽字符分类
> #include <deque>　　　　　 	//STL 双端队列容器
> #include <exception>　　　 	//异常处理类
> #include <fstream> 　　　 	//文件输入/输出
> #include <functional>　　　	//STL 定义运算函数（代替运算符）
> #include <limits> 　　　　 	//定义各种数据类型最值常量
> #include <list>　　　　　　	//STL 线性列表容器
> #include <locale>         	//本地化特定信息
> #include <map>　　　　　　 	//STL 映射容器
> #include <memory>         	//STL通过分配器进行的内存分配
> #include <new>            	//动态内存分配
> #include <numeric>         	//STL常用的数字操作
> #include <iomanip> 　　　 	//参数化输入/输出
> #include <ios>　　　　　　 	//基本输入/输出支持
> #include <iosfwd>　　　　　	//输入/输出系统使用的前置声明
> #include <iostream> 　　　	//数据流输入/输出
> #include <istream>　　　　 	//基本输入流
> #include <iterator>        	//STL迭代器
> #include <ostream>　　　　 	//基本输出流
> #include <queue>　　　　　 	//STL 队列容器
> #include <set>　　　　　　 	//STL 集合容器
> #include <sstream>　　　　 	//基于字符串的流
> #include <stack>　　　　　 	//STL 堆栈容器
> #include <stdexcept>　　　 	//标准异常类
> #include <streambuf>　　　 	//底层输入/输出支持
> #include <string>　　　　　	//字符串类
> #include <typeinfo>        	//运行期间类型信息
> #include <utility>　　　　 	//STL 通用模板类
> #include <valarray>       	//对包含值的数组的操作
> #include <vector>　　　　　	//STL 动态数组容器
> ```
