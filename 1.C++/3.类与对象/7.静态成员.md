## [`static`成员](../1.编译与链接/4.static,extern和全局变量.md)
> `static`变量或函数**在整个程序中只能有唯一定义**，其生存期为整个程序，不同的作用域可以有定义的同名的静态变量，是属于不同作用域的不同变量

### 静态成员变量

**作用**：使用`static`成员变量来实现多个对象共享数据（如计数器）
**规则**：
1. 用法：
    ```cpp
    class A{
    public:
        static int count_;
    }；
    ```
    - `static`静态成员变量必须在类声明的外部初始化(C++17之前)，非`static`成员变量可以[类内初始化](./3.类成员初始化.md)
      ```cpp
      int A::count_ = 0; //静态成员变量在初始化时不能再加static，但必须要有数据类型
      ```
   - (C++17)静态数据成员可以声明为`inline`。内联静态数据成员可以在类定义中定义，而且可以指定初始化器，不需要类外定义
      ```cpp
      class A{
          inline static int count_ = 1;
      };
      ```
2. `static`成员变量属于类所有，在编译的时候确定内存地址，**只占一份内存**
3. `static`成员变量**不占用对象的内存**，而是在所有对象之外开辟内存，即使不创建对象也可以访问`A::count_`（前提是`public`权限），也可以通过对象访问`a.count_`（不推荐，warning）
4. 子类和父类可以有定义的同名的静态变量，是属于不同作用域的不同变量


**注意事项**：

- `static`成员变量的内存既不是在声明类时分配，也不是在创建对象时分配，而是在（类外）初始化时分配。没有在类外初始化的 `static` 成员变量不能使用。
- 

### 静态成员函数
1. 在类中的`static`成员函数属于整个类所拥有，这个函数**不接收`this`指针**，不能访问非静态成员变量和非静态成员函数，但可以访问其他静态成员
2. 可以直接通过类名调用`A::func()`，不需要借助实例
3. 静态成员函数不能是虚函数
4. 声明和实现可以分离，但是只能在声明处使用